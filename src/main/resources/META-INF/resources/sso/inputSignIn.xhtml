<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:h="http://java.sun.com/jsf/html"> 

  <!--A default sign-in form.-->
  <!--This input form depends upon:-->
  <!--  UserSession Bean -->

  <composite:interface>
    <composite:attribute name="label" required="false" default="Please sign in" type="java.lang.String" displayName="the widget label"/>
    <composite:attribute name="autofocus" required="false" default="false" type="java.lang.Boolean" displayName="whether the page focus should be automatically set to the input"/>
    <composite:attribute name="showFooter" required="false" default="true" type="java.lang.Boolean" displayName="indicator to show or hide the footer"/>
    <composite:attribute name="labelFooter" required="false" default="Don't have an account?" type="java.lang.String" displayName="the widget label"/>

  </composite:interface>

  <composite:implementation>
    <div id="#{cc.clientId}">
      <div class="panel panel-default form-signin">
        <div class="panel-heading">
          <h2 class="form-signin-heading">#{cc.attrs.label}</h2>
        </div>
        <div class="panel-body">
          <p:focus for="inputEmail" rendered="autofocus"/>
          <div class="form-group">
            <p:inputText id="inputEmail" type="email" placeholder="Email address" styleClass="form-control"
                         required="true" requiredMessage="Email address is required"
                         value="#{userSession.userName}"/>
          </div>
          <div class="form-group">
            <p:password id="password" placeholder="Password" styleClass="form-control" feedback="false"
                        required="true" requiredMessage="Password is required"
                        value="#{userSession.password}"/>
          </div>
          <div class="form-group">
            <div style="margin-left:15px;">
              <label class="checkbox"><h:selectBooleanCheckbox id="remember" value="#{userSession.remember}" style="margin-top:0px;"/>Remember me</label>
            </div>
          </div>
          <div class="form-group">
            <p:messages id="signinMessages"/>
          </div>
          <div class="form-group">
            <input type="hidden" name="referer" value="#{param['referer']}"/>
            <p:commandButton id="submit" value="Sign in" styleClass="btn btn-success form-control"
                             update="signinMessages, :global:growl"
                             action="#{userSession.signIn()}"/>
          </div>
        </div>
        <h:panelGroup rendered="#{cc.attrs.showFooter}">
          <div class="panel-footer" style="background-color: inherit;">
            <p>
              #{cc.attrs.labelFooter} 
            </p>
            <p>
              <h:outputLink value="#{link.new_account}" class="btn btn-success btn-sm">Create a new account.</h:outputLink>
            </p>
            <p>
              <h:outputLink value="#{link.lost_password}">Lost password?</h:outputLink>
            </p>
          </div>
        </h:panelGroup>
      </div>

      <style type="text/css">
        .form-signin { max-width: 350px; padding: 15px; margin: 0 auto; }
        .form-signin .form-signin-heading, .form-signin .checkbox { margin: 0 10px; white-space: nowrap; }
        .form-signin .checkbox { font-weight: normal; }
        .form-signin .form-control { height: auto; padding: 10px; font-size: 1.2em; }
      </style>
    </div>
  </composite:implementation>

</html>
