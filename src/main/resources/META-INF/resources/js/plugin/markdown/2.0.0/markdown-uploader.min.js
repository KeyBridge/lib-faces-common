/**
 * Markdown editor upload scripts. Adds button plus drag and drop support
 * to a markdown editor widget.
 *
 * The script is wrapped in CDATA tags to ensure compatibility with JSF.
 * CDATA means, Character Data. CDATA is defined as blocks of text that
 * are not parsed by the parser, but are otherwise recognized as markup.
 *
 * @author Key Bridge
 * @since v1.0.0 created 03/02/29
 */

//  <![CDATA[
function uploadOneFile(e, t){var d = new FormData; d.append("file", e), d.append("contentType", e.type), d.append("size", e.size), d.append("token", "#{cc.attrs.fileUploadToken}"); var n = new XMLHttpRequest; n.open("POST", "#{cc.attrs.fileUploadUrl}"), n.upload.onprogress = function(t){uploadProgressCallback(e, t)}, n.onload = function(d){handleIoioServerResponse(n.response, t, e.name)}, n.send(d)}document.getElementById("#{cc.id}-file-input").onchange = function(e){console.debug("event=change", e, this.files), uploadFiles(document.getElementById("#{cc.id}-edit"), this.files)}, document.getElementById("#{cc.id}-edit").ondrop = function(e){e.preventDefault(), uploadFiles(document.getElementById("#{cc.id}-edit"), e.dataTransfer.files), e.target.classList.add("undotted"), e.target.classList.remove("dotted")}, document.getElementById("#{cc.id}-edit").ondragover = function(e){e.preventDefault(), e.target.classList.remove("undotted"), e.target.classList.add("dotted")}, document.getElementById("#{cc.id}-edit").ondragleave = function(e){e.target.classList.add("undotted"), e.target.classList.remove("dotted")};
//      ]]>
